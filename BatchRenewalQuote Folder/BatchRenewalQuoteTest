@isTest
public class Test_BatchRenewalQuote {
    
    @testSetup
    public static void setupTests(){
        
        
        
        //account
        Account testAccount1 = new Account(Name='Test Direct Account');
        
        insert testAccount1;
        
        //Contact
        Contact testContact1 = new Contact();
        testContact1.FirstName = 'testFirst'; 
        testContact1.LastName = 'testLast'; 
        testContact1.AccountId = testAccount1.Id;
        
        INSERT testContact1;
        

        
    }

    
    public static testMethod void testDirect(){
        
        List<Id> oppList = new List<Id>();
        
        Account testAccount = [SELECT Id FROM Account LIMIT 1];
        
        //Opportunity
        Opportunity oppty2 = new Opportunity();
        oppty2.Name = 'Test oppty';
        oppty2.Type = 'New';
        oppty2.AccountId = testAccount.Id;
        oppty2.StageName = 'Closing';
        oppty2.CloseDate = System.today();
        oppty2.Channel__c = 'Direct';
        oppty2.Amount = 120;
        
        
        insert oppty2;
        
        oppList.add(oppty2.Id);
        
        
        
        Database.executeBatch(new BatchRenewalQuote(oppList, 365));
        
        
    }
    
    
    
    public static testMethod void testIndirect(){
        
        
        List<Id> oppList = new List<Id>();
        
        Account testAccount = [SELECT Id FROM Account LIMIT 1];
        
        Contact contact = [SELECT ID FROM Contact LIMIT 1];
        
        //Opportunity
        Opportunity oppty2 = new Opportunity();
        oppty2.Name = 'Test oppty';
        oppty2.Type = 'New';
        oppty2.AccountId = testAccount.Id;
        oppty2.StageName = 'Closing';
        oppty2.CloseDate = System.today();
        oppty2.Channel__c = 'Indirect';
        oppty2.Amount = 120;
        oppty2.PrimaryDistributor__c = testAccount.id;
        oppty2.QuotePrimaryPartner__c = testAccount.id;
        oppty2.Partner_Rep__c = contact.id;
        
        insert oppty2;
        
        oppList.add(oppty2.Id);
        
        
        Database.executeBatch(new BatchRenewalQuote(oppList, 365));
        
        
    }
    
    
    
    
}

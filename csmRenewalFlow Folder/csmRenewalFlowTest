@isTest
private class csmRenewalFlowTest {
   
    
    @isTest static void createRenewalOppDirect() {

        List<Opportunity> oppListDirect = new List<Opportunity>();
        for (Integer i=0;i<200;i++) {
            
            Opportunity opp = new Opportunity();
            opp.Name = 'Test | Renewal Opportunity';
            opp.Type = 'Renewal';
            opp.CloseDate = date.newInstance(2020, 8, 25);
            opp.SBQQ__RenewedContract__c = '8004N000000JiL9QAK';
            opp.Channel__c = 'Direct';
            
            oppListDirect.add(opp);
        }
        
        insert oppListDirect;
        
        
        Test.startTest();  
        
        	csmRenewalFlow job = new csmRenewalFlow(0);
        
            Database.executeBatch(job);
        
        Test.stopTest();

        
    }
    
     @isTest static void createRenewalOppIndirect() {
         
        Test.startTest();
		
        List<Opportunity> oppListIndirect = new List<Opportunity>();
        for (Integer i=0;i<200;i++) {
            
            Opportunity opp = new Opportunity();
            opp.Name = 'Test | Renewal Opportunity';
            opp.Type = 'Renewal';
            opp.CloseDate = date.newInstance(2020, 8, 25);
            opp.SBQQ__RenewedContract__c = '8004N000000JiL9QAK';
            opp.Channel__c = 'Indirect';
            
            oppListIndirect.add(opp);
        }
         
        
        insert oppListIndirect;  
         
        Test.startTest();  
         
         	csmRenewalFlow job = new csmRenewalFlow(0);
            
            Database.executeBatch(job);
        
        Test.stopTest();

    }
    
    @isTest static void createContractWithRenewalOpp() {
        
        List<Contract> contractList = new List<Contract>();
        for (Integer i=0;i<200;i++) {

            Contract cont = new Contract();
            cont.Name = 'Test Contract w/ Renewal Opp';
            cont.AccountId = '0014N00001jVz9qQAC';
            cont.SBQQ__RenewalOpportunity__c = '0064N00000YGup9QAD';
			cont.EndDate = date.newInstance(2020, 8, 25);
            cont.StartDate = date.newInstance(2019, 8, 25);
            cont.ContractTerm = 12;
            cont.Pricebook2Id = '01s41000003wyHzAAI';
            cont.Status = 'Draft';
            
            contractList.add(cont);
        }    
        insert contractList;
            
            
        Test.startTest();    
        
        	csmRenewalFlow job = new csmRenewalFlow(0);
            
            Database.executeBatch(job);
        
        Test.stopTest();    
        
        
    }
    
        @isTest static void createContractWithoutRenewalOpp() {
        
        List<Contract> contractList = new List<Contract>();
        for (Integer i=0;i<200;i++) {

            Contract cont = new Contract();
            cont.Name = 'Test Contract w/o Renewal Opp';
            cont.AccountId = '0014N00001jVz9qQAC';
            cont.EndDate = date.newInstance(2020, 8, 25);
            cont.StartDate = date.newInstance(2019, 8, 25);
            cont.ContractTerm = 12;
            cont.Pricebook2Id = '01s41000003wyHzAAI';
            cont.Status = 'Draft';
                
            
            contractList.add(cont);
        }    
        insert contractList;
            
            
        Test.startTest();    
            
            csmRenewalFlow job = new csmRenewalFlow(0);
            
            Database.executeBatch(job);
        
        Test.stopTest();    
    	

}
    
}
    
